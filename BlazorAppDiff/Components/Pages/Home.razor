@page "/"
@inject IJSRuntime JSRuntime

<h3>文章レビュー</h3>

<EditForm Model="textInput" OnValidSubmit="ShowDiff">
    <DataAnnotationsValidator />
    <div>
        <label>レビューする文章</label><br />
        <InputTextArea @bind-Value="textInput.OriginalText" maxlength="1000" rows="5" cols="60"/>
        <ValidationMessage For="() => textInput.OriginalText"/>
    </div>

    <div>
        <label>レビューの観点</label><br />
        <InputTextArea @bind-Value="textInput.Hint" maxlength="1000" rows="5" cols="60" placeholder="例）誤字脱字チェックをお願いします。"/>
        <ValidationMessage For="() => textInput.Hint" />
    </div>
    <div style="margin-top:10px;">
        <button type="submit">レビュー開始</button>
    </div>
</EditForm>




<hr/>

<div>
    @comment
</div>

@if (isDisplayDiff)
{
    <!-- JSから生成された差分HTMLを表示するコンテナ -->
    <button @onclick="CopyAsync">添削後の文章をコピー</button>
}

<div @ref="diffElement" style="margin-top:20px; width:calc(100vw - 100px); display: @displayString;" />